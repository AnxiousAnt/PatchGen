#N canvas 7 27 1135 788 10;
#X obj 104 109 gemhead;
#X obj 104 200 separator;
#X obj 104 139 t a b;
#X obj 104 285 t a b b;
#X obj 104 169 repeat 32;
#X obj 193 312 f 0;
#X obj 219 312 + 1;
#X obj 122 430 * -1;
#X obj 242 471 pack 0 0;
#X obj 122 462 pack 0 0;
#X obj 195 335 t f f;
#X obj 243 391 / 32;
#X floatatom 433 268 5 0 0 0 zoom - -;
#X floatatom 348 114 5 0 0 0 length - -;
#X obj 899 492 soundfiler;
#X obj 899 423 openpanel;
#X msg 899 393 bang;
#X msg 354 679 0 \, destroy;
#X obj 354 726 gemwin;
#X msg 354 653 reset \, create \, 1;
#X obj 499 59 osc~ 400;
#X msg 745 205 bang;
#X obj 557 180 -~ 0.1;
#X obj 579 61 noise~;
#X obj 644 61 phasor~ 400;
#X msg 242 499 \$2 \$1 0;
#X msg 122 494 \$2 \$1 0;
#X msg 185 172 0;
#X obj 45 360 translateXYZ;
#X floatatom 284 240 5 0 0 0 translate - -;
#X obj 104 247 rotateXYZ;
#X floatatom 284 198 5 0 0 0 rotate - -;
#X obj 766 150 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 17 406 colorRGB 0 0.5 1;
#X obj 745 172 metro 85;
#X obj 104 72 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 499 35 5 0 0 0 - - -;
#N canvas 517 364 462 312 test 0;
#X obj 31 123 GEMglBegin;
#X obj 86 100 GLdefine GL_LINE_STRIP;
#X obj 31 13 inlet;
#X obj 86 77 loadbang;
#X obj 159 13 inlet;
#X obj 221 12 inlet;
#X obj 31 200 GEMglEnd;
#X obj 31 151 GEMglVertex3fv;
#X obj 31 175 GEMglVertex3fv;
#X obj 64 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 7 1;
#X connect 5 0 8 1;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 9 0 1 0;
#X restore 55 554 pd test;
#N canvas 516 333 389 431 steamavg 0;
#X obj 221 41 inlet;
#X obj 223 82 t f b;
#X obj 256 111 f;
#X obj 259 136 + 1;
#X obj 51 47 inlet;
#X obj 76 146 f;
#X obj 53 73 t b b;
#X msg 140 78 0;
#X obj 196 126 +;
#X obj 191 152 t f f;
#X obj 111 348 outlet;
#X obj 257 168 t f f;
#X obj 88 211 /;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 4 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 5 0;
#X connect 6 1 7 0;
#X connect 7 0 8 1;
#X connect 7 0 2 1;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 9 1 8 1;
#X connect 11 0 12 1;
#X connect 11 1 2 1;
#X connect 12 0 10 0;
#X restore 704 719 pd steamavg;
#N canvas 0 22 454 304 (subpatch) 0;
#X array sample 300 float 5;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 1 299 -1 200 140 1;
#X restore 885 235 graph;
#X obj 698 752 tabwrite sample;
#X floatatom 899 527 15 0 0 0 - - -;
#X msg 899 450 read -resize \$1 samplein;
#N canvas 0 22 454 304 (subpatch) 0;
#X array samplein 30724 float 4;
#X coords 0 1 30723 -1 200 140 1;
#X restore 884 69 graph;
#X obj 776 679 tabread samplein;
#X obj 753 540 t b f;
#X obj 704 630 t b;
#X obj 163 387 * 4;
#X obj 539 559 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 807 486 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 865 639 making sample manageble;
#X text 114 554 can use [curve 2] in its place this is more cpu efficient.
;
#X obj 554 221 tabwrite~ waves;
#X floatatom 406 185 5 0 0 0 width - -;
#X text 296 99 comment;
#X obj 223 427 +;
#X obj 259 430 +;
#X floatatom 453 344 5 0 0 0 x_position - -;
#X msg 739 570 300;
#X floatatom 644 35 5 0 0 0 - - -;
#N canvas 141 120 632 627 shotgun 0;
#X obj 296 143 until;
#X obj 306 184 f 0;
#X msg 356 159 0;
#X floatatom 25 263 10 0 0 0 - - -;
#X floatatom 498 269 5 0 0 0 - - -;
#X obj 191 396 until;
#X obj 187 357 f;
#X obj 239 424 f 0;
#X obj 298 420 + 1;
#X obj 146 285 t b b b f;
#X obj 307 204 t f f f;
#X obj 186 237 * 1;
#X obj 352 181 + 1;
#X obj 441 212 / 300;
#X obj 146 549 outlet;
#X obj 467 103 inlet;
#X obj 175 79 inlet;
#X obj 308 108 t f b b f;
#X obj 434 153 f 1;
#X obj 156 113 route bang;
#X obj 241 542 outlet;
#X text 89 568 main until bang;
#X text 239 569 sub until bang;
#X obj 467 549 outlet;
#X text 451 571 main index;
#X obj 378 548 outlet;
#X text 362 570 sub index;
#X obj 241 452 t b f f;
#X text 29 4 Embeded until;
#X text 23 18 (sub iterations = total iterations / main iterations)
;
#X text 141 61 Main iterations;
#X text 435 83 Total iterations;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 2 0 1 1;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 27 0;
#X connect 8 0 7 1;
#X connect 9 0 14 0;
#X connect 9 2 6 0;
#X connect 9 3 7 1;
#X connect 10 0 11 0;
#X connect 10 1 23 0;
#X connect 10 2 12 0;
#X connect 11 0 3 0;
#X connect 11 0 9 0;
#X connect 12 0 1 1;
#X connect 13 0 4 0;
#X connect 13 0 6 1;
#X connect 13 0 11 1;
#X connect 15 0 18 1;
#X connect 16 0 19 0;
#X connect 17 0 0 0;
#X connect 17 1 2 0;
#X connect 17 2 18 0;
#X connect 17 3 13 1;
#X connect 18 0 13 0;
#X connect 19 1 17 0;
#X connect 27 0 20 0;
#X connect 27 1 25 0;
#X connect 27 2 8 0;
#X restore 733 599 pd shotgun;
#X msg 541 709 \; sample const 0;
#X obj 541 660 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 564 658 clear sample;
#X text 564 560 clear samplein;
#X msg 539 608 \; samplein const 0;
#X text 952 393 load sample;
#X text 752 465 re-apply sample;
#X obj 501 131 spigot~;
#X obj 545 104 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 579 132 spigot~;
#X obj 623 109 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 650 132 spigot~;
#X obj 694 108 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 751 295 \; pd dsp 1;
#X text 766 332 ON;
#X msg 752 354 \; pd dsp 0;
#X text 772 391 OFF;
#X obj 751 62 loadbang;
#N canvas 0 22 450 300 (subpatch) 0;
#X array waves 100 float 5;
#A 0 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1
-0.1 -0.1 -0.1;
#X coords 0 1 99 -1 200 140 1;
#X restore 527 273 graph;
#X text 727 132 turn tabwrite on;
#X obj 195 356 tabread sample;
#X text 83 18 Waveform Generator;
#X text 19 36 (replace tabread sample with any array for output.);
#X text 357 622 open/close Gem;
#X connect 0 0 2 0;
#X connect 1 0 30 0;
#X connect 2 0 4 0;
#X connect 2 1 27 0;
#X connect 3 0 28 0;
#X connect 3 2 5 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 5 0 10 0;
#X connect 6 0 5 1;
#X connect 7 0 9 0;
#X connect 8 0 25 0;
#X connect 9 0 26 0;
#X connect 10 0 81 0;
#X connect 10 1 11 0;
#X connect 11 0 56 0;
#X connect 11 0 55 0;
#X connect 12 0 11 1;
#X connect 13 0 4 1;
#X connect 14 0 41 0;
#X connect 15 0 42 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 19 0 18 0;
#X connect 20 0 68 0;
#X connect 21 0 52 0;
#X connect 22 0 52 0;
#X connect 23 0 70 0;
#X connect 24 0 72 0;
#X connect 25 0 37 2;
#X connect 26 0 37 1;
#X connect 27 0 5 1;
#X connect 28 0 33 0;
#X connect 29 0 28 1;
#X connect 30 0 3 0;
#X connect 31 0 30 3;
#X connect 32 0 34 0;
#X connect 33 0 37 0;
#X connect 34 0 21 0;
#X connect 35 0 0 0;
#X connect 36 0 20 0;
#X connect 38 0 40 0;
#X connect 41 0 45 0;
#X connect 42 0 14 0;
#X connect 44 0 38 1;
#X connect 45 0 58 0;
#X connect 45 1 60 1;
#X connect 46 0 38 0;
#X connect 47 0 7 0;
#X connect 47 0 8 0;
#X connect 48 0 65 0;
#X connect 49 0 41 0;
#X connect 53 0 47 1;
#X connect 55 0 9 1;
#X connect 56 0 8 1;
#X connect 57 0 56 1;
#X connect 57 0 55 1;
#X connect 58 0 60 0;
#X connect 59 0 24 0;
#X connect 60 0 46 0;
#X connect 60 2 44 0;
#X connect 60 3 40 1;
#X connect 62 0 61 0;
#X connect 68 0 22 0;
#X connect 69 0 68 1;
#X connect 70 0 22 0;
#X connect 71 0 70 1;
#X connect 72 0 22 0;
#X connect 73 0 72 1;
#X connect 78 0 69 0;
#X connect 78 0 71 0;
#X connect 78 0 73 0;
#X connect 81 0 47 0;
