--- pd-0.42-5.orig/src/configure.in	2008-12-10 18:30:53.000000000 +0000
+++ pd-0.42-5/src/configure.in	2010-12-06 09:17:50.000000000 +0000
@@ -2,11 +2,12 @@
 AC_INIT(d_arithmetic.c)
 
 AC_SUBST(alsa, yes)
-AC_SUBST(jack, no)
+AC_SUBST(jack, yes)
 AC_SUBST(portaudio, no)
 AC_SUBST(portmidi, no)
 AC_SUBST(binarymode, -m755)
 AC_SUBST(fftw, no)
+AC_SUBST(openmp, yes)
 AC_SUBST(tk, yes)
 AC_SUBST(PDLIB)
 AC_SUBST(CPPFLAGS)
@@ -44,6 +45,8 @@
     setuid=$enableval)
 AC_ARG_ENABLE(fftw,     [  --enable-fftw           use FFTW package],
     fftw=$enableval)
+AC_ARG_ENABLE(openmp,   [  --enable-openmp         use OpenMP package],
+    openmp=$enableval)
 AC_ARG_ENABLE(fat,      [  --disable-fat           build fat binary on Mac OS X], 
     fat=$enableval, fat="yes")
 AC_ARG_ENABLE(tk,       [  --disable-tk            build without tcl/tk-GUI],
@@ -254,6 +257,10 @@
     else
         MORECFLAGS=$MORECFLAGS" -O6 -funroll-loops -fomit-frame-pointer"
     fi
+    if test x$openmp = "xyes";
+    then
+        MORECFLAGS=$MORECFLAGS" -fopenmp"
+    fi
     if test x$jack = "xyes";
     then
         LDFLAGS=$LDFLAGS" -lrt -ljack"
