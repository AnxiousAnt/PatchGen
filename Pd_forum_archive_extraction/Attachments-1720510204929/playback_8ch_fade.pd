#N canvas 24 202 1017 441 10;
#X obj 547 85 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 535 112 random 50;
#X obj 535 132 + 6;
#X obj 535 152 del;
#X msg 535 170 1;
#X obj 535 234 readsf~ 8 1e+06;
#X floatatom 561 146 5 0 0 0 - - -;
#X obj 651 248 s \$0-open;
#X obj 29 49 inlet;
#X obj 108 239 route float;
#X obj 108 260 s \$0-fadeout_time;
#N canvas 0 0 663 484 1032-throws 0;
#X obj 16 48 *~;
#X obj 86 98 *~;
#X obj 154 148 *~;
#X obj 226 198 *~;
#X obj 153 167 throw~ ch3;
#X obj 225 217 throw~ ch4;
#X obj 295 253 *~;
#X obj 364 303 *~;
#X obj 431 357 *~;
#X obj 501 412 *~;
#X obj 294 272 throw~ ch5;
#X obj 363 322 throw~ ch6;
#X obj 430 376 throw~ ch7;
#X obj 500 431 throw~ ch8;
#X obj 532 399 receive~ \$0-fade;
#X obj 462 344 receive~ \$0-fade;
#X obj 392 290 receive~ \$0-fade;
#X obj 324 240 receive~ \$0-fade;
#X obj 258 185 receive~ \$0-fade;
#X obj 185 135 receive~ \$0-fade;
#X obj 118 85 receive~ \$0-fade;
#X obj 49 35 receive~ \$0-fade;
#X obj 85 117 throw~ ch2;
#X obj 15 67 throw~ ch1;
#X obj 16 16 inlet~;
#X obj 85 67 inlet~;
#X obj 154 118 inlet~;
#X obj 226 166 inlet~;
#X obj 294 217 inlet~;
#X obj 363 271 inlet~;
#X obj 431 322 inlet~;
#X obj 501 376 inlet~;
#X connect 0 0 23 0;
#X connect 1 0 22 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 13 0;
#X connect 14 0 9 1;
#X connect 15 0 8 1;
#X connect 16 0 7 1;
#X connect 17 0 6 1;
#X connect 18 0 3 1;
#X connect 19 0 2 1;
#X connect 20 0 1 1;
#X connect 21 0 0 1;
#X connect 24 0 0 0;
#X connect 25 0 1 0;
#X connect 26 0 2 0;
#X connect 27 0 3 0;
#X connect 28 0 6 0;
#X connect 29 0 7 0;
#X connect 30 0 8 0;
#X connect 31 0 9 0;
#X restore 535 287 pd \$0-throws -------------;
#X obj 658 66 inlet;
#X obj 46 124 r \$0-main_receive;
#X obj 29 327 symbol;
#X obj 54 369 s \$0-filename;
#N canvas 139 46 450 300 1032-main_receive 0;
#X restore 46 104 pd \$0-main_receive;
#N canvas 26 219 667 341 1032-stop 0;
#X obj 102 188 s \$0-open;
#X obj 178 -4 r global_stop;
#X msg 139 123 0;
#X obj 139 90 del 55;
#X obj 192 90 s \$0-stop_fade;
#X obj 25 158 s \$0-reset_vol;
#X obj 139 144 t b f;
#X obj 139 -4 inlet;
#X obj 139 64 b;
#X obj 139 36 route bang;
#X obj 40 64 r \$0-short_stop;
#X obj 164 208 outlet;
#X obj 179 15 r \$0-stop;
#X text 288 90 <- "stop" message needs short fadeout to avoid transient
\, "fade" message has already faded out so we bypass the default fade.
;
#X connect 1 0 9 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 6 0 0 0;
#X connect 6 0 5 0;
#X connect 6 1 11 0;
#X connect 7 0 9 0;
#X connect 8 0 4 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X connect 10 0 2 0;
#X connect 12 0 9 0;
#X restore 610 159 pd \$0-stop;
#N canvas 0 0 841 562 1032-fade 0;
#X msg 258 192 100;
#X obj 23 434 delay;
#X obj 33 458 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 158 349 line~;
#X obj 159 368 send~ \$0-fade;
#X obj 72 227 dbtorms;
#X msg 72 192 0;
#X floatatom 165 206 5 0 0 0 - - -;
#X msg 221 322 0 50;
#X obj 221 303 r \$0-stop_fade;
#X obj 258 171 r \$0-reset_vol;
#X obj 258 229 dbtorms;
#X msg 258 250 \$1 50;
#X obj 48 367 r \$0-fadeout_time;
#X obj 72 309 pack 0 0;
#X obj 115 270 r \$0-fadeout_time;
#X obj 48 409 + 25;
#X obj 22 18 inlet;
#X obj 22 97 route bang;
#X obj 115 288 max 20;
#X obj 48 388 max 20;
#X obj 33 45 r global_fade;
#X obj 23 482 s \$0-short_stop;
#X obj 46 69 r \$0-fade;
#X text 149 20 Different fade-out times depending on whether abstraction
received "stop" message or "fade" message.;
#X text 316 304 <- from "stop" message;
#X text 252 273 <- make fadeout time always larger than 20 ms for "fade"
;
#X text 316 227 <- these aren't strictly necessary \, since line~ is
still a linear fade (you could use 1 and lose the [dbtorms]-- you can
use the [dbtorms~] object to do a fadeout in dB rather than rms.;
#X text 85 411 <- send a stop message 25 ms after the fade;
#X connect 0 0 7 0;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 1 0 22 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 7 0;
#X connect 6 0 5 0;
#X connect 8 0 3 0;
#X connect 9 0 8 0;
#X connect 10 0 0 0;
#X connect 11 0 12 0;
#X connect 12 0 3 0;
#X connect 13 0 20 0;
#X connect 14 0 3 0;
#X connect 15 0 19 0;
#X connect 16 0 1 1;
#X connect 17 0 18 0;
#X connect 18 0 6 0;
#X connect 18 0 1 0;
#X connect 19 0 14 1;
#X connect 20 0 16 0;
#X connect 21 0 18 0;
#X connect 23 0 18 0;
#X restore 658 87 pd \$0-fade;
#X obj 610 65 inlet;
#X obj 394 91 r \$0-open;
#X obj 394 134 symbol \$1;
#X msg 394 154 open \$1;
#X obj 443 112 r \$0-filename;
#N canvas 123 256 692 325 1032-setrcv 0;
#X obj 47 25 inlet;
#X obj 74 106 f \$0;
#X obj 74 135 makefilename pd-%d-main_receive;
#X obj 74 84 loadbang;
#X obj 47 176 pack s s s;
#X obj 102 157 makefilename %d-main_receive;
#X msg 47 199 \; \$2 clear \, obj 20 20 receive \$1 \, obj 20 100 send
\$3 \, connect 0 0 1 0 \;;
#X obj 61 56 r \$0-setrcv;
#X text 205 41 Hack to dynamically patch a change in internal receive.
;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 4 2;
#X connect 7 0 4 0;
#X restore 68 303 pd \$0-setrcv;
#X obj 148 192 b;
#X obj 268 223 s \$0-stop;
#X obj 535 65 r \$0-play;
#X obj 148 213 s \$0-play;
#X obj 308 187 s \$0-fade;
#N canvas 0 0 253 237 1032-loadbang 0;
#X obj 32 38 loadbang;
#X obj 47 143 s \$0-reset_vol;
#X obj 57 121 s \$0-fadeout_time;
#X obj 57 102 f \$3;
#X obj 32 166 s \$0-open;
#X obj 66 63 symbol \$2;
#X obj 66 82 s \$0-setrcv;
#X text 141 28 initialization;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 3 0 2 0;
#X connect 5 0 6 0;
#X restore 46 83 pd \$0-loadbang;
#X obj 610 180 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 29 153 route setfile setrcv setfade play bang float stop fade
;
#X obj 268 206 b;
#X obj 68 283 symbol;
#X obj 213 178 sel 1 0;
#X text 617 113 <- humanization?;
#X text 638 180 <- decouple debug from patch by making it possible
to delete with no consequences;
#X text 715 249 <- optional \, in case you need the file again;
#X obj 29 347 t b s;
#X obj 29 389 s \$0-stop;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 5 1 11 1;
#X connect 5 2 11 2;
#X connect 5 3 11 3;
#X connect 5 4 11 4;
#X connect 5 5 11 5;
#X connect 5 6 11 6;
#X connect 5 7 11 7;
#X connect 5 8 7 0;
#X connect 8 0 32 0;
#X connect 9 0 10 0;
#X connect 12 0 18 0;
#X connect 13 0 32 0;
#X connect 14 0 39 0;
#X connect 17 0 5 0;
#X connect 17 0 31 0;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 5 0;
#X connect 23 0 21 1;
#X connect 25 0 28 0;
#X connect 27 0 0 0;
#X connect 27 0 1 0;
#X connect 32 0 14 0;
#X connect 32 1 34 0;
#X connect 32 2 9 0;
#X connect 32 3 25 0;
#X connect 32 4 25 0;
#X connect 32 5 35 0;
#X connect 32 6 33 0;
#X connect 32 7 29 0;
#X connect 33 0 26 0;
#X connect 34 0 24 0;
#X connect 35 0 25 0;
#X connect 35 1 33 0;
#X connect 39 0 40 0;
#X connect 39 1 15 0;
