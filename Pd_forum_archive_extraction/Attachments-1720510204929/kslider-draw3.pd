#N struct 1075-whiteKey float x float y float pitch float color;
#N struct 1075-blackKey float x float y float pitch float color;
#N canvas 87 137 450 300 10;
#N canvas 565 68 512 647 drawKeys 0;
#X obj 53 9 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 201 67 symbol pd-\$0-kslider;
#X msg 201 89 \; \$1 clear;
#X obj 70 326 t b b;
#N canvas 251 83 672 453 whiteKeys 0;
#X obj 20 69 cnv 15 290 320 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 36 170 * 12;
#X obj 36 24 inlet;
#X obj 36 427 outlet;
#X text 198 78 draw white keys;
#X obj 165 214 * 2;
#X obj 204 214 * 2;
#X obj 204 236 - 1;
#X obj 165 170 mod 7;
#X obj 36 126 t f f f, f 22;
#X obj 100 170 div 7;
#X obj 100 191 * 12;
#X obj 102 253 +;
#X obj 165 192 moses 3;
#X obj 36 357 pack f 0 f 996, f 17;
#X obj 36 97 cyclone/uzi 28 0;
#X text 487 16 White keys control;
#X obj 337 69 cnv 15 290 320 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 468 78 white keys color control;
#X connect 1 0 14 0;
#X connect 2 0 15 0;
#X connect 5 0 12 1;
#X connect 6 0 7 0;
#X connect 7 0 12 1;
#X connect 8 0 13 0;
#X connect 9 0 1 0;
#X connect 9 1 10 0;
#X connect 9 2 8 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 14 2;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 3 0;
#X connect 15 2 9 0;
#X restore 70 368 pd whiteKeys;
#X obj 271 343 symbol pd-\$0-kslider;
#X msg 271 375 traverse \$1 \, bang;
#X obj 271 397 pointer;
#X obj 70 433 append \$0-whiteKey x y pitch color;
#X obj 87 143 t b b;
#X obj 288 160 symbol pd-\$0-kslider;
#X msg 288 189 traverse \$1 \, bang;
#X obj 288 211 pointer;
#N canvas 345 155 662 568 blackKeys 0;
#X obj 10 70 cnv 15 290 390 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 42 16 inlet;
#X obj 180 161 mod 5;
#X obj 42 164 div 5;
#X obj 135 127 t f f, f 8;
#X obj 180 183 t f f;
#X obj 42 186 t f f, f 8;
#X obj 42 531 outlet;
#X obj 207 210 moses 2;
#X obj 207 239 * 2;
#X obj 208 261 + 1;
#X obj 246 239 * 2;
#X obj 246 261 + 2;
#X obj 88 305 +;
#X obj 88 213 * 12;
#X obj 180 316 moses 2;
#X obj 180 346 * 12;
#X obj 42 381 * 84;
#X obj 42 412 +;
#X obj 219 347 * 12;
#X obj 180 395 + 8;
#X obj 219 369 + 12;
#X obj 42 509 pack f 0 f 1;
#X obj 42 101 cyclone/uzi 20 0;
#X text 222 81 draw keys;
#X text 506 18 draw black keys control;
#X obj 318 69 cnv 15 290 390 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 368 185 t f b;
#X text 471 83 assign color to key;
#X obj 368 160 r whiteKeyColor;
#X connect 1 0 23 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 5 0 15 0;
#X connect 5 1 8 0;
#X connect 6 0 17 0;
#X connect 6 1 14 0;
#X connect 8 0 9 0;
#X connect 8 1 11 0;
#X connect 9 0 10 0;
#X connect 10 0 13 1;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 22 2;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 15 1 19 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 22 0;
#X connect 19 0 21 0;
#X connect 20 0 18 1;
#X connect 21 0 20 0;
#X connect 22 0 7 0;
#X connect 23 2 4 0;
#X connect 29 0 27 0;
#X restore 87 196 pd blackKeys;
#X obj 87 243 append \$0-blackKey x y pitch color;
#X obj 78 18 loadbang;
#X obj 204 41 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 93 118 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 83 277 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 53 50 t b b b b;
#X obj 33 474 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 53 503 symbol pd-\$0-kslider;
#X obj 53 524 t s s, f 12;
#X msg 53 558 \; \$1 vis 0;
#X msg 122 552 \; \$1 vis 1;
#X text 263 97 clear \$0-kslider content;
#X text 213 454 draw white keys in \$0-kslider subpatch;
#X text 202 265 draw black keys in \$0-kslider subpatch;
#X text 183 523 this is a hack to put \$0-kslider to work correctly
\; for details see:;
#X text 285 537 https://lists.puredata.info/pipermail/pd-list/2017-05/118889.html
, f 34;
#X text 228 580 I have no idea why it works.. (??);
#X connect 0 0 19 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 4;
#X connect 9 0 13 0;
#X connect 9 1 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 14 4;
#X connect 13 0 14 0;
#X connect 15 0 19 0;
#X connect 16 0 1 0;
#X connect 17 0 9 0;
#X connect 18 0 3 0;
#X connect 19 0 21 0;
#X connect 19 1 3 0;
#X connect 19 2 1 0;
#X connect 19 2 9 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X restore 10 4 pd drawKeys;
#N canvas 331 41 337 124 keyboardTemplates 0;
#N canvas 231 36 421 268 whiteKeys 0;
#X obj 23 48 struct \$0-whiteKey float x float y float pitch float
color;
#X text 259 10 structure of white keys;
#X obj 23 80 route click, f 12;
#X obj 182 144 s \$0-whiteKeyColor;
#X obj 23 144 s \$0-whiteKeyPitch;
#X obj 23 220 filledpolygon color 12 1 0 0 12 0 12 52 0 52;
#X obj 23 122 get \$0-whiteKey pitch color;
#X obj 233 179 iemguts/receivecanvas;
#X connect 0 0 2 0;
#X connect 2 0 6 0;
#X connect 6 0 4 0;
#X connect 6 1 3 0;
#X restore 39 38 pd whiteKeys;
#N canvas 278 232 450 300 blackKeys 0;
#X obj 27 28 struct \$0-blackKey float x float y float pitch float
color;
#X obj 27 63 route click;
#X obj 186 141 s \$0-blackKeyColor;
#X obj 27 141 s \$0-blackKeyPitch;
#X obj 31 233 filledpolygon color 12 1 0 0 8 0 8 32 0 32;
#X obj 27 112 get \$0-blackKey pitch color;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X restore 39 62 pd blackKeys;
#X text 106 7 Templates for Data Structures;
#X restore 10 -15 pd keyboardTemplates;
#N canvas 0 22 450 300 \$0-kslider 0;
#X scalar 1075-whiteKey 0 0 0 996 \;;
#X scalar 1075-whiteKey 12 0 2 996 \;;
#X scalar 1075-whiteKey 24 0 4 996 \;;
#X scalar 1075-whiteKey 36 0 5 996 \;;
#X scalar 1075-whiteKey 48 0 7 996 \;;
#X scalar 1075-whiteKey 60 0 9 996 \;;
#X scalar 1075-whiteKey 72 0 11 996 \;;
#X scalar 1075-whiteKey 84 0 12 996 \;;
#X scalar 1075-whiteKey 96 0 14 996 \;;
#X scalar 1075-whiteKey 108 0 16 996 \;;
#X scalar 1075-whiteKey 120 0 17 996 \;;
#X scalar 1075-whiteKey 132 0 19 996 \;;
#X scalar 1075-whiteKey 144 0 21 996 \;;
#X scalar 1075-whiteKey 156 0 23 996 \;;
#X scalar 1075-whiteKey 168 0 24 996 \;;
#X scalar 1075-whiteKey 180 0 26 996 \;;
#X scalar 1075-whiteKey 192 0 28 996 \;;
#X scalar 1075-whiteKey 204 0 29 996 \;;
#X scalar 1075-whiteKey 216 0 31 996 \;;
#X scalar 1075-whiteKey 228 0 33 996 \;;
#X scalar 1075-whiteKey 240 0 35 996 \;;
#X scalar 1075-whiteKey 252 0 36 996 \;;
#X scalar 1075-whiteKey 264 0 38 996 \;;
#X scalar 1075-whiteKey 276 0 40 996 \;;
#X scalar 1075-whiteKey 288 0 41 996 \;;
#X scalar 1075-whiteKey 300 0 43 996 \;;
#X scalar 1075-whiteKey 312 0 45 996 \;;
#X scalar 1075-whiteKey 324 0 47 996 \;;
#X scalar 1075-blackKey 8 0 1 1 \;;
#X scalar 1075-blackKey 20 0 3 1 \;;
#X scalar 1075-blackKey 44 0 6 1 \;;
#X scalar 1075-blackKey 56 0 8 1 \;;
#X scalar 1075-blackKey 68 0 10 1 \;;
#X scalar 1075-blackKey 92 0 13 1 \;;
#X scalar 1075-blackKey 104 0 15 1 \;;
#X scalar 1075-blackKey 128 0 18 1 \;;
#X scalar 1075-blackKey 140 0 20 1 \;;
#X scalar 1075-blackKey 152 0 22 1 \;;
#X scalar 1075-blackKey 176 0 25 1 \;;
#X scalar 1075-blackKey 188 0 27 1 \;;
#X scalar 1075-blackKey 212 0 30 1 \;;
#X scalar 1075-blackKey 224 0 32 1 \;;
#X scalar 1075-blackKey 236 0 34 1 \;;
#X scalar 1075-blackKey 260 0 37 1 \;;
#X scalar 1075-blackKey 272 0 39 1 \;;
#X scalar 1075-blackKey 296 0 42 1 \;;
#X scalar 1075-blackKey 308 0 44 1 \;;
#X scalar 1075-blackKey 320 0 46 1 \;;
#X coords 0 0 337 53 337 53 1 0 0;
#X restore 10 30 pd \$0-kslider;
#X coords 0 -1 1 1 337 53 1 10 30;
