#N canvas 90 22 1106 423 10;
#X obj 843 287 *~;
#X obj 782 204 osc~ 440;
#X obj 858 221 vline~;
#X obj 833 321 dac~;
#X obj 427 103 cnv 15 298 198 empty empty empty 20 12 0 14 -195955
-66577 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array env 100 float 0;
#X coords 0 1 99 0 300 200 1;
#X restore 426 102 graph;
#X text 409 291 0;
#X text 410 98 1;
#X obj 88 153 until;
#X obj 88 128 v i;
#X obj 88 180 f;
#X obj 116 187 + 1;
#X msg 129 155 0;
#X obj 88 101 t b b;
#X obj 88 80 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 326 153 v pi;
#X obj 165 153 v i;
#X obj 88 217 expr ($f1 + (i - 4)) % (i - 3) / (i -2) \; $f1;
#X obj 88 284 expr (cos($f1 * (2 * pi)) * 0.5) + 0.5;
#X obj 88 257 expr fmod($f1 + 0.5 \, 1);
#X obj 88 57 loadbang;
#X msg 325 87 1;
#X obj 325 109 atan;
#X obj 325 131 * 4;
#X obj 867 121 expr 1 \; i - 2 \; $f1;
#X obj 859 173 pack f f f;
#X msg 858 196 \$1 \, \$2 \$3;
#X obj 867 90 nbx 5 17 50 2000 0 0 empty empty empty 0 -8 0 12 -245039
-1 -1 500 256;
#X obj 867 43 bng 25 250 50 0 empty empty empty 17 7 0 10 -228856 -1
-1;
#X text 798 90 tempo (ms);
#X msg 923 62 set 500;
#X obj 926 32 loadbang;
#X obj 165 126 expr size("env");
#X obj 256 317 tabwrite env;
#X obj 858 254 tabread4~ env;
#X msg 993 57 \; pd dsp 1;
#X connect 0 0 3 0;
#X connect 0 0 3 1;
#X connect 1 0 0 0;
#X connect 2 0 34 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 0 17 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 9 0;
#X connect 13 1 12 0;
#X connect 13 1 21 0;
#X connect 13 1 32 0;
#X connect 14 0 13 0;
#X connect 17 0 19 0;
#X connect 17 1 33 1;
#X connect 18 0 33 0;
#X connect 19 0 18 0;
#X connect 20 0 14 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 15 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 24 2 25 2;
#X connect 25 0 26 0;
#X connect 26 0 2 0;
#X connect 27 0 24 0;
#X connect 28 0 27 0;
#X connect 30 0 27 0;
#X connect 31 0 30 0;
#X connect 31 0 35 0;
#X connect 32 0 16 0;
#X connect 34 0 0 1;
