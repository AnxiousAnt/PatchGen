#N canvas 125 47 1023 798 10;
#X obj 274 -121 tabwrite~ osc;
#X obj 417 228 tabwrite~ crossings;
#N canvas 0 0 450 300 graph2 0;
#X array osc 1000 float 0;
#X coords 0 1 999 -1 400 140 1;
#X restore 540 -178 graph;
#N canvas 0 0 450 300 graph3 0;
#X array crossings 1000 float 0;
#X coords 0 5 999 0 400 140 1;
#X restore 540 127 graph;
#X msg 383 -252 bang;
#N canvas 0 0 1157 590 graph4 0;
#X array samp 1000 float 0;
#X coords 0 1 999 -1 400 140 1;
#X restore 540 -25 graph;
#X obj 388 12 tabwrite~ samp;
#X obj 257 80 0;
#X obj 281 80 1;
#X obj 257 32 t b b;
#X obj 384 -180 del 10;
#X obj 160 -63 fexpr~ ($x1<0)!=($x1[-1]<0);
#X obj 257 54 del 0.2;
#N canvas 0 0 454 304 graph1 0;
#X array output 1000 float 0;
#X coords 0 1 999 -1 400 140 1;
#X restore 539 280 graph;
#X obj 139 348 tabwrite~ output;
#X obj 139 297 *~;
#X obj 138 -219 *~ 1;
#X obj 138 -256 osc~ 2000;
#X obj 384 -229 t b b b b b;
#X text 331 -64 1 for each zero crossing;
#X text 28 136 counts crossings;
#X text 39 150 & gates after N;
#X obj 161 129 fexpr~ (($x+$y)*($y<$f3)*($y!=0||$f2)) \; $y>0;
#X floatatom 433 78 5 0 0 0 - - -;
#X text 382 62 change N crossings here;
#X text 414 -253 <- bang here to start;
#X text 199 -257 <- any audio source here;
#X connect 4 0 18 0;
#X connect 7 0 22 1;
#X connect 8 0 22 1;
#X connect 9 0 12 0;
#X connect 9 1 8 0;
#X connect 10 0 9 0;
#X connect 11 0 6 0;
#X connect 11 0 22 0;
#X connect 12 0 7 0;
#X connect 15 0 14 0;
#X connect 16 0 11 0;
#X connect 16 0 0 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 18 0 10 0;
#X connect 18 1 0 0;
#X connect 18 2 6 0;
#X connect 18 3 14 0;
#X connect 18 4 1 0;
#X connect 22 1 1 0;
#X connect 22 1 15 1;
#X connect 23 0 22 2;

