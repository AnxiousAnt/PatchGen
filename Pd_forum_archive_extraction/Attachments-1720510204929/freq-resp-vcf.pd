#N canvas 185 22 959 720 12;
#X obj 125 137 nbx 5 14 -1e+37 22050 0 0 empty freq-set empty 0 -8
0 10 -262130 -1 -1 7986.61 256;
#X text 89 134 Freq;
#X obj 304 140 nbx 5 14 1 1e+37 0 0 empty q-set empty 0 -8 0 10 -261682
-1 -1 10 256;
#X text 283 137 Q;
#X obj 128 100 hsl 128 15 0 22050 0 0 empty empty empty -2 -8 0 10
-262130 -1 -1 4600 1;
#X msg 125 202 0.371767 0.804461 0.208615;
#X obj 49 306 cnv 15 848 400 empty empty empty 18 9 1 16 -262144 -1
0;
#X text 859 685 -24;
#X obj 382 316 cnv 15 15 15 empty empty Kilohertz 18 9 1 16 -262144
-1 0;
#X obj 855 516 cnv 15 15 15 empty empty dB 18 9 1 17 -262144 -1 0;
#X text 859 600 -12;
#X obj 56 355 cnv 15 798 85 empty empty empty 20 12 0 14 -257983 -66577
0;
#X obj 56 439 cnv 15 798 85 empty empty empty 20 12 0 14 -241340 -66577
0;
#X obj 56 525 cnv 15 798 85 empty empty empty 20 12 0 14 -257983 -66577
0;
#X obj 56 610 cnv 15 798 85 empty empty empty 20 12 0 14 -241340 -66577
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 77 170 1;
#X restore 174 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 80 170 1;
#X restore 251 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 102 170 1;
#X restore 331 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 433 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 511 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 103 170 1;
#X restore 589 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 692 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 770 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 100 170 1;
#X restore 74 355 graph;
#N canvas 391 118 975 563 (subpatch) 0;
#X array \$0-response 400 float 0;
#X coords 0 1 399 -1 800 340 1;
#X restore 55 355 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 77 170 1;
#X restore 174 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 80 170 1;
#X restore 251 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 102 170 1;
#X restore 331 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 433 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 511 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 103 170 1;
#X restore 589 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 692 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 770 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 100 170 1;
#X restore 74 525 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 55 355 graph;
#X text 859 430 12;
#X text 858 347 24;
#X obj 51 339 cnv 15 810 15 empty empty empty 18 9 1 16 -262144 -1
0;
#X text 762 337 10;
#X text 839 338 20;
#X text 687 337 5;
#X text 584 337 2;
#X text 506 338 1;
#X text 420 338 0.5;
#X text 318 338 0.2;
#X text 238 338 0.1;
#X text 161 338 0.05;
#X text 61 338 0.02;
#X text 860 516 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 850 402 1;
#X restore 48 307 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 55 439 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 55 525 graph;
#X obj 125 230 s \$0-coefficients;
#X obj 510 190 cnv 15 120 30 empty empty empty 20 12 0 14 -261234 -66577
0;
#N canvas 433 130 630 550 init 0;
#X obj 97 16 loadbang;
#X obj 180 353 s \$0-dbrange;
#X obj 282 91 samplerate~;
#X obj 282 114 v sr_\$0;
#X msg 217 289 400;
#X obj 377 82 table re1_\$0 400;
#X obj 377 102 table im1_\$0 400;
#X obj 377 122 table re2_\$0 400;
#X obj 377 142 table im2_\$0 400;
#N canvas 699 151 382 450 get-complex-freqs 0;
#X msg 232 232 resize \$1;
#X obj 281 276 s re1_\$0;
#X obj 267 301 s im1_\$0;
#X obj 256 332 s re2_\$0;
#X obj 247 362 s im2_\$0;
#X obj 12 299 tabwrite re1_\$0;
#X obj 108 394 tabwrite im2_\$0;
#X obj 232 393 s amp_\$0;
#X obj 50 80 change;
#X obj 251 171 v table_size_\$0;
#X obj 50 113 trigger bang float;
#X obj 232 206 change 400;
#X obj 50 43 inlet;
#X obj 76 363 tabwrite re2_\$0;
#X obj 43 335 tabwrite im1_\$0;
#X obj 50 182 expr cos($f1) \; sin($f1) \; cos($f1 * 2) \; sin($f1
* 2) \; $f2;
#N canvas 11 46 935 668 loop 0;
#X obj 106 192 until;
#X obj 144 241 + 1;
#X msg 124 216 0;
#X obj 106 95 t f f;
#X obj 483 216 until;
#X obj 529 265 + 1;
#X msg 501 241 0;
#X obj 106 270 t f f;
#X obj 211 355 +;
#X obj 106 370 mtof;
#X obj 106 144 t f b f;
#X obj 483 191 t f b f;
#X obj 483 326 /;
#X obj 106 31 inlet;
#X obj 106 574 outlet;
#X obj 259 583 outlet;
#X obj 483 144 expr table_size_\$0 - $f1;
#X obj 483 265 f;
#X obj 483 379 expr pow($f1 \, 0.4);
#X obj 106 241 f;
#X obj 483 296 trigger f f;
#X obj 106 63 expr rint(table_size_\$0 * 0.98);
#X obj 483 407 * 20.6017;
#X text 556 407 MIDI 16;
#X obj 483 498 expr $f1 * (2 * -pi_\$0) / 44100;
#X obj 106 465 expr $f1 * (2 * -pi_\$0) / 44100;
#X obj 86 33 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 106 298 expr (($f1 + 1) * (midi_range_\$0 / $f2)) + 16;
#X connect 0 0 19 0;
#X connect 1 0 19 1;
#X connect 2 0 19 1;
#X connect 3 0 10 0;
#X connect 3 1 16 0;
#X connect 4 0 17 0;
#X connect 5 0 17 1;
#X connect 6 0 17 1;
#X connect 7 0 27 0;
#X connect 7 1 8 0;
#X connect 8 0 15 0;
#X connect 9 0 25 0;
#X connect 10 0 0 0;
#X connect 10 1 2 0;
#X connect 10 2 27 1;
#X connect 11 0 4 0;
#X connect 11 1 6 0;
#X connect 11 2 12 1;
#X connect 12 0 18 0;
#X connect 13 0 21 0;
#X connect 16 0 8 1;
#X connect 16 0 11 0;
#X connect 17 0 5 0;
#X connect 17 0 20 0;
#X connect 18 0 22 0;
#X connect 19 0 1 0;
#X connect 19 0 7 0;
#X connect 20 0 12 0;
#X connect 20 1 15 0;
#X connect 21 0 3 0;
#X connect 22 0 24 0;
#X connect 24 0 14 0;
#X connect 25 0 14 0;
#X connect 26 0 21 0;
#X connect 27 0 9 0;
#X restore 50 143 pd loop;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 8 0 10 0;
#X connect 10 0 16 0;
#X connect 10 1 9 0;
#X connect 10 1 11 0;
#X connect 11 0 0 0;
#X connect 12 0 8 0;
#X connect 15 0 5 0;
#X connect 15 1 14 0;
#X connect 15 2 13 0;
#X connect 15 3 6 0;
#X connect 15 4 5 1;
#X connect 15 4 14 1;
#X connect 15 4 13 1;
#X connect 15 4 6 1;
#X connect 16 0 15 0;
#X connect 16 1 15 1;
#X restore 217 317 pd get-complex-freqs;
#X text 247 289 array size;
#X obj 97 52 trigger b b b;
#X msg 180 320 24;
#X obj 273 193 v midi_range_\$0;
#X obj 273 167 ftom;
#X msg 273 141 8750.55;
#X obj 265 224 expr atan(1) * 4;
#X obj 266 255 v pi_\$0;
#X obj 110 346 t b b;
#X msg 64 473 1.98562 -0.986364 0.00681816 0 -0.00681816;
#X obj 65 500 s \$0-coefficients;
#X msg 146 395 \; q-set 10 \; freq-set 1000 \; pd dsp 1;
#X connect 0 0 11 0;
#X connect 2 0 3 0;
#X connect 4 0 9 0;
#X connect 11 0 18 0;
#X connect 11 1 4 0;
#X connect 11 1 12 0;
#X connect 11 2 2 0;
#X connect 11 2 15 0;
#X connect 11 2 16 0;
#X connect 12 0 1 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 18 1 21 0;
#X connect 19 0 20 0;
#X restore 351 209 pd init \; tables;
#N canvas 115 22 1189 642 Z-Transform 0;
#X obj 104 351 inlet;
#X obj 104 556 outlet;
#X obj 242 350 inlet;
#X text 151 352 index;
#X text 291 350 coeficientes;
#X obj 764 398 cnv 15 320 90 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 834 433 _________________________________;
#X text 777 405 Z-Transform:;
#X text 790 436 H(z) =;
#X text 917 424 1;
#X text 883 449 1 - (a * z^-1);
#X obj 440 573 cpole~;
#X text 491 572 =;
#X obj 514 568 fexpr~ $x1 + ($x3 * $y1) - ($x4 * $y2) \; $x2 + ($x4
* $y1) + ($x3 * $y2);
#X text 807 572 Action: y[n] = x[n] + a[n] * y[n-1];
#X obj 97 212 expr sqrt($f1*$f1 + $f2*$f2) / sqrt($f3*$f3 + $f4*$f4)
;
#X text 272 68 (a1) a2 (b1) b2 b3;
#X text 480 123 b1 + (b2 * re1) + (b3 * re2) = reI;
#X text 515 138 (b2 * im1) + (b3 * im2) = imI;
#X text 487 153 1 - (a1 * re1) + (a2 * re2) = reII;
#X text 72 192 reI;
#X text 181 191 imI;
#X text 283 191 reII;
#X text 388 190 imII;
#X text 491 214 ampI / ampII;
#X obj 263 93 unpack f f f f f;
#X obj 750 116 cnv 15 320 90 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 780 145 H(z) = b1 + (b2 * z^-1) + (b3 * z^-2);
#X text 820 151 _________________________________;
#X text 837 167 1 + (a1 * z^-1) + (a2 * z^-2);
#X text 763 123 Z-Transform:;
#X text 500 167 - (a1 * im1) + (a2 * im2) = imII;
#X obj 97 122 expr $f4 + ($f5 * re1_\$0[$f1]) + ($f6 * re2_\$0[$f1])
\; ($f5 * im1_\$0[$f1]) + ($f6 * im2_\$0[$f1]) \; 1 - ($f2 * re1_\$0[$f1])
- ($f3 * re2_\$0[$f1]) \; - ($f2 * im1_\$0[$f1]) - ($f3 * im2_\$0[$f1])
;
#X text 89 74 index;
#X text 93 251 amplitude;
#X obj 460 38 cnv 15 100 30 empty empty BIQUAD 20 14 0 14 -261682 -66577
0;
#X obj 44 394 cnv 15 700 150 empty empty ??? 20 12 0 14 -233344 -66577
0;
#X obj 104 406 expr $f4 + ($f5 * re1_\$0[$f1]) + ($f6 * re2_\$0[$f1])
\; ($f5 * im1_\$0[$f1]) + ($f6 * im2_\$0[$f1]) \; 1 - ($f2 * re1_\$0[$f1])
- ($f3 * re2_\$0[$f1]) \; - ($f2 * im1_\$0[$f1]) - ($f3 * im2_\$0[$f1])
;
#X obj 104 496 expr sqrt($f1*$f1 + $f2*$f2) / sqrt($f3*$f3 + $f4*$f4)
;
#X text 484 408 b1 + (b2 * re1) + (b3 * re2) = reI;
#X text 519 423 (b2 * im1) + (b3 * im2) = imI;
#X text 491 438 1 - (a1 * re1) + (a2 * re2) = reII;
#X text 504 452 - (a1 * im1) + (a2 * im2) = imII;
#X text 410 366 REPLACE THIS BY CPOLE'S TRANSFER FUNCTION;
#X text 619 78 BIQUAD'S TRANSFER FUNCTION;
#X text -23 295 ============================================================
;
#X text 335 295 ============================================================
;
#X text 692 295 ============================================================
;
#X text 852 341 CPOLE'S;
#X obj 242 376 unpack f f f f f;
#X text 791 366 Transfer function: H(Z) = 1/(1 - aZ^-1).;
#X connect 0 0 37 0;
#X connect 2 0 49 0;
#X connect 25 0 32 1;
#X connect 25 1 32 2;
#X connect 25 2 32 3;
#X connect 25 3 32 4;
#X connect 25 4 32 5;
#X connect 32 0 15 0;
#X connect 32 1 15 1;
#X connect 32 2 15 2;
#X connect 32 3 15 3;
#X connect 37 0 38 0;
#X connect 37 1 38 1;
#X connect 37 2 38 2;
#X connect 37 3 38 3;
#X connect 38 0 1 0;
#X connect 49 0 37 1;
#X connect 49 1 37 2;
#X connect 49 2 37 3;
#X connect 49 3 37 4;
#X connect 49 4 37 5;
#X restore 519 196 pd Z-Transform;
#X obj 519 162 trigger float float;
#X obj 519 97 t bang list;
#N canvas 0 22 181 220 loop 0;
#X obj 28 100 until;
#X obj 68 138 + 1;
#X msg 72 100 0;
#X obj 28 137 f;
#X obj 28 13 inlet;
#X obj 28 173 outlet;
#X obj 28 42 trigger b b;
#X obj 28 71 v table_size_\$0;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 3 1;
#X connect 3 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 2 0;
#X connect 7 0 0 0;
#X restore 519 131 pd loop;
#X obj 519 256 tabwrite \$0-response;
#X obj 519 67 r \$0-coefficients;
#N canvas 121 22 226 277 db-scale 0;
#X obj 42 31 inlet;
#X obj 42 61 rmstodb;
#X obj 42 90 - 100;
#X obj 98 61 r \$0-dbrange;
#X obj 108 109 * -1;
#X obj 41 147 clip;
#X obj 80 183 /;
#X obj 80 216 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 3 0 5 2;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X restore 519 226 pd db-scale;
#X text 469 193 ===>;
#X text 747 28 biquad bandpass;
#X msg 439 29 1.98562 -0.986364 0.00681816 0 -0.00681816;
#N canvas 0 22 758 654 vcf-coefficients(cpole) 0;
#X obj 271 395 v ampcorrect;
#X obj 309 367 v oneminusr;
#X obj 347 338 v r;
#X obj 234 428 v gain;
#X obj 388 40 t b f;
#X obj 228 151 t b f;
#X obj 385 337 v cf;
#X obj 422 318 v qinv;
#X obj 494 321 v Q;
#X obj 73 542 outlet;
#X obj 389 13 inlet;
#X obj 197 33 inlet;
#X obj 227 118 f;
#X obj 54 406 list prepend set;
#X obj 54 434 list trim;
#X obj 54 462 t b a;
#X obj 59 195 expr r * cos(cf) \; r * sin(cf) \; gain;
#X obj 55 357 pack f f f;
#X obj 182 283 s \$0-gain;
#X obj 175 323 s \$0-im;
#X obj 160 353 s \$0-re;
#X obj 255 180 expr ampcorrect * oneminusr \; 2 - 2 / (Q + 2) \; 1
- r \; if (qinv > 0 \, 1 - cf * qinv \, 0) \; max($f1 * 2 * pi_\$0
/ sr_\$0 \, 0) \; 1/Q \; max($f2 \, 1);
#X connect 4 0 12 0;
#X connect 4 1 21 1;
#X connect 5 0 16 0;
#X connect 5 1 21 0;
#X connect 10 0 4 0;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 9 0;
#X connect 15 1 9 0;
#X connect 16 0 17 0;
#X connect 16 0 20 0;
#X connect 16 1 17 1;
#X connect 16 1 19 0;
#X connect 16 2 17 2;
#X connect 16 2 18 0;
#X connect 17 0 13 0;
#X connect 21 0 3 0;
#X connect 21 1 0 0;
#X connect 21 2 1 0;
#X connect 21 3 2 0;
#X connect 21 4 6 0;
#X connect 21 5 7 0;
#X connect 21 6 8 0;
#X restore 125 168 pd vcf-coefficients(cpole);
#X text 15 201 (re \, im \, gain);
#X obj 792 183 cpole~;
#X obj 792 156 *~;
#X obj 792 241 dac~;
#X obj 792 215 *~;
#X obj 827 218 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 772 123 noise~;
#X obj 844 120 r \$0-gain;
#X obj 839 154 r \$0-re;
#X obj 862 179 r \$0-im;
#X connect 0 0 65 0;
#X connect 2 0 65 1;
#X connect 4 0 0 0;
#X connect 5 0 52 0;
#X connect 55 0 61 0;
#X connect 56 0 55 0;
#X connect 56 1 59 1;
#X connect 57 0 58 0;
#X connect 57 1 55 1;
#X connect 58 0 56 0;
#X connect 60 0 57 0;
#X connect 61 0 59 0;
#X connect 64 0 57 0;
#X connect 65 0 5 0;
#X connect 67 0 70 0;
#X connect 68 0 67 0;
#X connect 70 0 69 0;
#X connect 70 0 69 1;
#X connect 71 0 70 1;
#X connect 72 0 68 0;
#X connect 73 0 68 1;
#X connect 74 0 67 2;
#X connect 75 0 67 3;
