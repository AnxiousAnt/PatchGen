--- x_midi.c~	Sun May 20 05:50:52 2001
+++ x_midi.c	Mon Oct  1 16:04:05 2001
@@ -1173,11 +1173,18 @@
     }
 }
 
-static void poly_clear(t_poly *x)
+static void poly_clear(t_poly *x, t_floatarg ndx)
 {
-    int i;
+    int i = ndx;
     t_voice *v;
-    for (v = x->x_vec, i = x->x_n; i--; v++) v->v_used = v->v_serial = 0;
+    if (i--) {
+	if (i >= 0 && i < x->x_n) {
+	    x->x_vec[i].v_used = 0;
+	    x->x_vec[i].v_serial = x->x_serial++;
+	}
+    }
+    else
+	for (v = x->x_vec, i = x->x_n; i--; v++) v->v_used = v->v_serial = 0;
 }
 
 static void poly_free(t_poly *x)
@@ -1192,7 +1199,7 @@
     	sizeof(t_poly), 0, A_DEFFLOAT, A_DEFFLOAT, 0);
     class_addfloat(poly_class, poly_float);
     class_addmethod(poly_class, (t_method)poly_stop, gensym("stop"), 0);
-    class_addmethod(poly_class, (t_method)poly_clear, gensym("clear"), 0);
+    class_addmethod(poly_class, (t_method)poly_clear, gensym("clear"), A_DEFFLOAT, 0);
 }
 
 /* -------------------------- bag -------------------------- */
