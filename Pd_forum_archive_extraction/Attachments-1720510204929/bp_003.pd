#N canvas 58 26 1206 686 10;
#X text 193 95 freq;
#X obj 177 128 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-261234 -1 -1 0 256;
#X obj 136 97 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-261682 -1 -1 0 256;
#X text 237 126 Q;
#X obj 96 64 noise~;
#X obj 810 75 loadbang;
#X obj 707 87 nbx 5 14 3 1e+37 0 0 empty q empty 0 -8 0 10 -261234
-1 -1 10 256;
#X obj 666 60 nbx 5 14 -1e+37 1e+37 0 0 empty freq empty 0 -8 0 10
-261682 -1 -1 2827.05 256;
#X obj 609 81 noise~;
#X obj 84 208 output~;
#X obj 614 148 output~;
#N canvas 460 132 683 526 biquad(bp~) 0;
#X obj 216 355 v coef1;
#X obj 164 280 v gain;
#X obj 215 329 expr 2 * $f1 * r;
#N canvas 0 22 548 260 sigbp_qcos 0;
#X obj 62 -65 inlet;
#X obj 59 15 outlet;
#X obj 365 17 v g;
#X obj 59 -25 expr (((g*g*g * (-1/720) + g*g*(1/24)) - g*0.5) + 1)
\; $f1 * $f1;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 220 304 pd sigbp_qcos;
#X obj 576 208 v pi;
#X obj 576 188 pi;
#X obj 481 217 v sr;
#X obj 483 195 samplerate~;
#X obj 484 172 loadbang;
#X obj 278 258 v coef2;
#X obj 362 267 v r;
#X obj 482 266 v omega;
#X obj 401 265 v oneminusr;
#X text 129 164 freq;
#X obj 68 66 inlet~;
#X obj 138 66 inlet;
#X obj 193 58 inlet;
#X obj 194 85 t b f;
#X obj 140 114 f;
#X obj 111 471 outlet~;
#X floatatom 268 279 0 0 0 0 - - -;
#X obj 165 169 expr 2 * oneminusr * (oneminusr + r * omega) \; omega
\; - r * r \; 1 - oneminusr \; omega / $f2 \; $f1 * (2 * pi) / sr;
#X obj 119 139 t b f;
#X obj 128 393 pack f f f 0 0;
#X obj 126 328 expr coef1 \; coef2 \; gain;
#X obj 181 432 s \$0-biquad;
#X obj 111 430 biquad~;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 4 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 14 0 26 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 21 1;
#X connect 18 0 22 0;
#X connect 21 0 1 0;
#X connect 21 1 3 0;
#X connect 21 2 9 0;
#X connect 21 2 20 0;
#X connect 21 3 10 0;
#X connect 21 4 12 0;
#X connect 21 5 11 0;
#X connect 22 0 24 0;
#X connect 22 1 21 0;
#X connect 23 0 25 0;
#X connect 23 0 26 0;
#X connect 24 0 23 0;
#X connect 24 1 23 1;
#X connect 24 2 23 2;
#X connect 26 0 19 0;
#X restore 626 110 pd biquad(bp~);
#X obj 276 83 r \$0-biquad;
#X obj 276 109 list prepend set;
#X obj 276 132 list trim;
#X obj 276 155 t b a;
#X msg 276 181 1.76374 -0.921065 0.0343851 0 0;
#N canvas 355 204 1011 564 Biquad-Frequency-Response 0;
#X obj 101 117 cnv 15 848 400 empty empty empty 18 9 1 16 -262144 -1
0;
#X text 911 496 -24;
#X obj 434 127 cnv 15 15 15 empty empty Kilohertz 18 9 1 16 -262144
-1 0;
#X obj 907 327 cnv 15 15 15 empty empty dB 18 9 1 17 -262144 -1 0;
#X text 911 411 -12;
#X obj 108 166 cnv 15 798 85 empty empty empty 20 12 0 14 -257983 -66577
0;
#X obj 108 250 cnv 15 798 85 empty empty empty 20 12 0 14 -241340 -66577
0;
#X obj 108 336 cnv 15 798 85 empty empty empty 20 12 0 14 -257983 -66577
0;
#X obj 108 421 cnv 15 798 85 empty empty empty 20 12 0 14 -241340 -66577
0;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 77 170 1;
#X restore 226 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 80 170 1;
#X restore 303 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 102 170 1;
#X restore 383 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 485 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 563 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 103 170 1;
#X restore 641 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 744 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 822 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 100 170 1;
#X restore 126 166 graph;
#N canvas 391 118 975 563 (subpatch) 0;
#X array \$0-response 400 float 0;
#X coords 0 1 399 -1 800 340 1;
#X restore 107 166 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 77 170 1;
#X restore 226 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 80 170 1;
#X restore 303 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 102 170 1;
#X restore 383 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 485 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 563 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 103 170 1;
#X restore 641 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 744 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 78 170 1;
#X restore 822 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 100 170 1;
#X restore 126 336 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 107 166 graph;
#X text 911 241 12;
#X text 910 158 24;
#X obj 103 150 cnv 15 810 15 empty empty empty 18 9 1 16 -262144 -1
0;
#X text 814 148 10;
#X text 891 149 20;
#X text 739 148 5;
#X text 636 148 2;
#X text 558 149 1;
#X text 472 149 0.5;
#X text 370 149 0.2;
#X text 290 149 0.1;
#X text 213 149 0.05;
#X text 113 149 0.02;
#X text 912 327 0;
#N canvas 1021 22 212 339 freq-response 0;
#N canvas 457 310 537 367 init 0;
#X obj 77 21 loadbang;
#X obj 78 272 s \$0-dbrange;
#X obj 262 96 samplerate~;
#X obj 262 119 v sr_\$0;
#X msg 115 208 400;
#X obj 357 87 table re1_\$0 400;
#X obj 357 107 table im1_\$0 400;
#X obj 357 127 table re2_\$0 400;
#X obj 357 147 table im2_\$0 400;
#N canvas 699 151 382 450 get-complex-freqs 0;
#X msg 232 232 resize \$1;
#X obj 281 276 s re1_\$0;
#X obj 267 301 s im1_\$0;
#X obj 256 332 s re2_\$0;
#X obj 247 362 s im2_\$0;
#X obj 12 299 tabwrite re1_\$0;
#X obj 108 394 tabwrite im2_\$0;
#X obj 232 393 s amp_\$0;
#X obj 50 80 change;
#X obj 251 171 v table_size_\$0;
#X obj 50 113 trigger bang float;
#X obj 232 206 change 400;
#X obj 50 43 inlet;
#X obj 76 363 tabwrite re2_\$0;
#X obj 43 335 tabwrite im1_\$0;
#X obj 50 182 expr cos($f1) \; sin($f1) \; cos($f1 * 2) \; sin($f1
* 2) \; $f2;
#N canvas 11 46 935 668 loop 0;
#X obj 106 192 until;
#X obj 144 241 + 1;
#X msg 124 216 0;
#X obj 106 95 t f f;
#X obj 483 216 until;
#X obj 529 265 + 1;
#X msg 501 241 0;
#X obj 106 270 t f f;
#X obj 211 355 +;
#X obj 106 370 mtof;
#X obj 106 144 t f b f;
#X obj 483 191 t f b f;
#X obj 483 326 /;
#X obj 106 31 inlet;
#X obj 106 574 outlet;
#X obj 259 583 outlet;
#X obj 483 144 expr table_size_\$0 - $f1;
#X obj 483 265 f;
#X obj 483 379 expr pow($f1 \, 0.4);
#X obj 106 241 f;
#X obj 483 296 trigger f f;
#X obj 106 63 expr rint(table_size_\$0 * 0.98);
#X obj 483 407 * 20.6017;
#X text 556 407 MIDI 16;
#X obj 483 498 expr $f1 * (2 * -pi_\$0) / 44100;
#X obj 106 465 expr $f1 * (2 * -pi_\$0) / 44100;
#X obj 86 33 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 106 298 expr (($f1 + 1) * (midi_range_\$0 / $f2)) + 16;
#X connect 0 0 19 0;
#X connect 1 0 19 1;
#X connect 2 0 19 1;
#X connect 3 0 10 0;
#X connect 3 1 16 0;
#X connect 4 0 17 0;
#X connect 5 0 17 1;
#X connect 6 0 17 1;
#X connect 7 0 27 0;
#X connect 7 1 8 0;
#X connect 8 0 15 0;
#X connect 9 0 25 0;
#X connect 10 0 0 0;
#X connect 10 1 2 0;
#X connect 10 2 27 1;
#X connect 11 0 4 0;
#X connect 11 1 6 0;
#X connect 11 2 12 1;
#X connect 12 0 18 0;
#X connect 13 0 21 0;
#X connect 16 0 8 1;
#X connect 16 0 11 0;
#X connect 17 0 5 0;
#X connect 17 0 20 0;
#X connect 18 0 22 0;
#X connect 19 0 1 0;
#X connect 19 0 7 0;
#X connect 20 0 12 0;
#X connect 20 1 15 0;
#X connect 21 0 3 0;
#X connect 22 0 24 0;
#X connect 24 0 14 0;
#X connect 25 0 14 0;
#X connect 26 0 21 0;
#X connect 27 0 9 0;
#X restore 50 143 pd loop;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 8 0 10 0;
#X connect 10 0 16 0;
#X connect 10 1 9 0;
#X connect 10 1 11 0;
#X connect 11 0 0 0;
#X connect 12 0 8 0;
#X connect 15 0 5 0;
#X connect 15 1 14 0;
#X connect 15 2 13 0;
#X connect 15 3 6 0;
#X connect 15 4 5 1;
#X connect 15 4 14 1;
#X connect 15 4 13 1;
#X connect 15 4 6 1;
#X connect 16 0 15 0;
#X connect 16 1 15 1;
#X restore 115 236 pd get-complex-freqs;
#X text 145 208 array size;
#X obj 29 304 s \$0-freq-set;
#X obj 77 57 trigger b b b;
#X msg 29 273 20;
#X msg 78 239 24;
#X obj 253 198 v midi_range_\$0;
#X obj 253 172 ftom;
#X msg 253 146 8750.55;
#X obj 245 229 expr atan(1) * 4;
#X obj 246 260 v pi_\$0;
#X connect 0 0 12 0;
#X connect 2 0 3 0;
#X connect 4 0 9 0;
#X connect 12 0 13 0;
#X connect 12 1 4 0;
#X connect 12 1 14 0;
#X connect 12 2 2 0;
#X connect 12 2 17 0;
#X connect 12 2 18 0;
#X connect 13 0 11 0;
#X connect 14 0 1 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X restore 122 116 pd init \; tables;
#N canvas 67 23 1040 236 Z-Transform 0;
#X obj 45 19 inlet;
#X obj 45 200 outlet;
#X obj 45 164 expr sqrt($f1*$f1 + $f2*$f2) / sqrt($f3*$f3 + $f4*$f4)
;
#X text 340 44 (a1) a2 (b1) b2 b3;
#X obj 45 74 expr $f4 + ($f5 * re1_\$0[$f1]) + ($f6 * re2_\$0[$f1])
\; ($f5 * im1_\$0[$f1]) + ($f6 * im2_\$0[$f1]) \; 1 - ($f2 * re1_\$0[$f1])
- ($f3 * re2_\$0[$f1]) \; 0 - ($f2 * im1_\$0[$f1]) - ($f3 * im2_\$0[$f1])
;
#X text 428 75 b1 + (b2 * re1) + (b3 * re2) = reI;
#X text 463 90 (b2 * im1) + (b3 * im2) = imI;
#X text 435 105 1 - (a1 * re1) + (a2 * re2) = reII;
#X text 435 119 0 - (a1 * im1) + (a2 * im2) = imII;
#X text 20 144 reI;
#X text 143 143 imI;
#X text 256 143 reII;
#X text 384 142 imII;
#X text 439 166 ampI / ampII;
#X obj 211 45 unpack f f f f f;
#X obj 211 18 inlet;
#X text 92 20 index;
#X text 260 18 coeficientes;
#X obj 698 68 cnv 15 320 90 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 728 97 H(z) = b1 + (b2 * z^-1) + (b3 * z^-2);
#X text 768 103 _________________________________;
#X text 785 119 1 + (a1 * z^-1) + (a2 * z^-2);
#X text 711 75 Z-Transform:;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 4 0 2 0;
#X connect 4 1 2 1;
#X connect 4 2 2 2;
#X connect 4 3 2 3;
#X connect 14 0 4 1;
#X connect 14 1 4 2;
#X connect 14 2 4 3;
#X connect 14 3 4 4;
#X connect 14 4 4 5;
#X connect 15 0 14 0;
#X restore 24 205 pd Z-Transform;
#X obj 24 178 trigger float float;
#X obj 24 106 t bang list;
#N canvas 0 22 181 220 loop 0;
#X obj 28 100 until;
#X obj 68 138 + 1;
#X msg 72 100 0;
#X obj 28 137 f;
#X obj 28 13 inlet;
#X obj 28 173 outlet;
#X obj 28 42 trigger b b;
#X obj 28 71 v table_size_\$0;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 3 1;
#X connect 3 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 2 0;
#X connect 7 0 0 0;
#X restore 24 140 pd loop;
#N canvas 121 22 226 277 db-range 0;
#X obj 42 31 inlet;
#X obj 42 61 rmstodb;
#X obj 42 90 - 100;
#X obj 98 61 r \$0-dbrange;
#X obj 108 109 * -1;
#X obj 41 147 clip;
#X obj 80 183 /;
#X obj 80 216 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 3 0 5 2;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X restore 24 235 pd db-range;
#X obj 24 51 inlet;
#X obj 24 265 tabwrite \$0-response;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 2 1 7 1;
#X connect 3 0 4 0;
#X connect 3 1 1 1;
#X connect 4 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X restore 211 67 pd freq-response;
#X obj 112 13 inlet;
#X obj 112 67 outlet;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 850 402 1;
#X restore 100 118 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X coords 0 1 100 -1 850 402 1;
#X restore 1030 348 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 107 250 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X coords 0 1 100 -1 800 170 1;
#X restore 107 336 graph;
#X obj 112 39 trigger list list;
#X connect 44 0 50 0;
#X connect 50 0 45 0;
#X connect 50 1 43 0;
#X coords 0 -1 1 1 850 420 1 100 100;
#X restore 276 209 pd Biquad-Frequency-Response;
#X obj 450 33 hsl 600 15 100 10000 0 0 empty empty empty -2 -8 0 10
-261682 -1 -1 16500 1;
#N canvas 460 132 678 554 fexpr~(bp~) 0;
#X obj 167 333 v coef1;
#X obj 115 258 v gain;
#X obj 166 307 expr 2 * $f1 * r;
#N canvas 0 22 548 260 sigbp_qcos 0;
#X obj 62 -65 inlet;
#X obj 59 15 outlet;
#X obj 365 17 v g;
#X obj 59 -25 expr (((g*g*g * (-1/720) + g*g*(1/24)) - g*0.5) + 1)
\; $f1 * $f1;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 171 282 pd sigbp_qcos;
#X obj 527 186 v pi;
#X obj 527 166 pi;
#X obj 432 195 v sr;
#X obj 434 173 samplerate~;
#X obj 435 150 loadbang;
#X obj 229 236 v coef2;
#X obj 313 245 v r;
#X obj 433 244 v omega;
#X obj 352 243 v oneminusr;
#X text 398 144 Q;
#X text 80 142 freq;
#X obj 46 100 inlet~;
#X obj 173 71 inlet;
#X obj 318 69 inlet;
#X obj 263 90 t b f;
#X obj 144 95 f;
#X obj 64 438 outlet~;
#X obj 63 407 expr~ $v1 * gain;
#X obj 116 147 expr 2 * oneminusr * (oneminusr + r * omega) \; omega
\; - r * r \; 1 - oneminusr \; omega / $f2 \; $f1 * (2 * pi) / sr;
#X obj 51 368 fexpr~ $x + (coef1 * $y1[-1]) + (coef2 * $y1[-2]);
#X obj 123 120 t b f;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 4 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 15 0 23 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 22 1;
#X connect 19 0 24 0;
#X connect 21 0 20 0;
#X connect 22 0 1 0;
#X connect 22 1 3 0;
#X connect 22 2 9 0;
#X connect 22 3 10 0;
#X connect 22 4 12 0;
#X connect 22 5 11 0;
#X connect 23 0 21 0;
#X connect 24 1 22 0;
#X restore 96 157 pd fexpr~(bp~);
#X obj 86 601 bandpass;
#X obj 134 568 nbx 5 14 3 1e+37 0 0 empty q empty 0 -8 0 10 -261234
-1 -1 10 256;
#X obj 93 541 nbx 5 14 -1e+37 1e+37 0 0 empty freq empty 0 -8 0 10
-261682 -1 -1 3000 256;
#X obj 87 644 PRINT;
#X msg 810 104 \; q 10 \; freq 3000 \; pd dsp 1;
#X connect 1 0 19 2;
#X connect 2 0 19 1;
#X connect 4 0 19 0;
#X connect 5 0 24 0;
#X connect 6 0 11 2;
#X connect 7 0 11 1;
#X connect 8 0 11 0;
#X connect 11 0 10 0;
#X connect 11 0 10 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 16 0;
#X connect 16 0 17 0;
#X connect 18 0 7 0;
#X connect 19 0 9 0;
#X connect 19 0 9 1;
#X connect 20 0 23 0;
#X connect 21 0 20 1;
#X connect 22 0 20 0;
