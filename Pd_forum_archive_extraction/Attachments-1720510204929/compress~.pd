#N canvas 404 203 764 699 10;
#N canvas 0 0 450 300 dw 0;
#X obj 100 85 inlet~;
#X obj 98 189 outlet~;
#X obj 137 124 delwrite~ \$0-x 100;
#X connect 0 0 2 0;
#X restore 80 129 pd dw;
#N canvas 0 0 673 467 dr 0;
#X obj 114 49 inlet~;
#X obj 170 332 outlet~;
#X obj 171 145 samplerate~;
#X msg 171 177 1000 \$1;
#X obj 171 204 /;
#X msg 179 119 bang;
#X obj 171 98 loadbang;
#X obj 171 229 * 512;
#X floatatom 181 264 5 0 0 0 - - -;
#X obj 171 297 delread~ \$0-x 12;
#X msg 208 203 256;
#X msg 241 203 512;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 9 0 1 0;
#X connect 10 0 7 1;
#X connect 11 0 7 1;
#X restore 80 156 pd dr;
#X obj 80 38 inlet~;
#X obj 79 355 outlet~;
#X obj 80 323 *~;
#X obj 189 131 dbtorms;
#X obj 100 214 loadbang;
#X msg 100 246 1;
#X obj 189 108 + 3;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-scope 512 float 2;
#X coords 0 1.1 511 -0.1 200 140 1;
#X restore 105 448 graph;
#X obj 277 166 spigot;
#X obj 331 163 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 0 0 453 353 to-table 0;
#X obj 159 114 f 0;
#X obj 187 114 + 1;
#X obj 159 140 mod 512;
#X obj 159 80 t b a;
#X obj 159 168 pack 0 0;
#X obj 159 194 s \$0-scope;
#X obj 159 48 inlet;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 3 1 4 1;
#X connect 4 0 5 0;
#X connect 6 0 3 0;
#X restore 277 188 pd to-table;
#X obj 371 527 table \$0-curve 1027;
#N canvas 402 130 654 642 make-curve 0;
#X obj 179 329 samplerate~;
#X msg 179 361 1000 \$1;
#X obj 179 388 /;
#X msg 187 303 bang;
#X obj 179 282 loadbang;
#X obj 161 413 *;
#X text 133 24 f6 2 1025 7 - 1 128 1 128 0.4 256 0.2 256 0.1 257 0.01
;
#X obj 161 435 t a a;
#X obj 136 305 swap;
#X obj 347 331 delay;
#X obj 136 190 list;
#X obj 136 235 list split 2;
#X obj 308 574 tabwrite~ \$0-curve;
#X msg 136 91 0 1 128 1 128 0.4 256 0.2 256 0.1 257 0.01;
#X obj 136 45 loadbang;
#X obj 136 119 t a b b b b b b b b b b b;
#X obj 136 495 vline~;
#X text 170 67 GEN 6 curve: pairs of <sample-pos value> \, no commas!
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 1;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 7 0 16 1;
#X connect 7 1 9 0;
#X connect 8 0 16 0;
#X connect 8 1 5 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 8 0;
#X connect 11 1 10 1;
#X connect 13 0 15 0;
#X connect 14 0 13 0;
#X connect 15 0 10 0;
#X connect 15 11 12 0;
#X connect 16 0 12 0;
#X restore 522 525 pd make-curve;
#X obj 322 40 inlet;
#X text 322 18 threshold;
#N canvas 532 343 450 300 lookup 0;
#X obj 150 165 tabread4 \$0-curve;
#X obj 150 116 * 1024;
#X obj 150 139 + 1;
#X obj 150 192 outlet;
#X obj 150 75 inlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 4 0 1 0;
#X restore 522 555 pd lookup;
#N canvas 312 148 648 448 compress 0;
#X obj 204 62 inlet;
#X obj 204 137 moses 0.5;
#X obj 285 69 inlet;
#X text 282 47 threshold;
#X obj 204 345 outlet;
#X obj 286 188 -;
#X text 323 192 power - thres;
#X text 320 221 * comp1;
#X obj 286 252 +;
#X text 325 254 + thres;
#X obj 401 74 inlet;
#X text 401 52 comp1;
#X obj 204 320 / 1;
#X text 234 321 / power;
#X obj 204 94 t a a;
#X obj 471 74 inlet;
#X text 471 52 comp2;
#X obj 471 124 /;
#X msg 471 102 1 \$1;
#X text 19 380 thresh * pow(power/thresh \, 1/comp2);
#X obj 204 265 *;
#X obj 285 95 t a a a a a;
#X obj 204 187 / 1;
#X obj 204 237 pow 1;
#X obj 286 219 * 1;
#X connect 0 0 14 0;
#X connect 1 0 22 0;
#X connect 1 1 5 0;
#X connect 2 0 21 0;
#X connect 5 0 24 0;
#X connect 8 0 12 0;
#X connect 10 0 24 1;
#X connect 12 0 4 0;
#X connect 14 0 1 0;
#X connect 14 1 12 1;
#X connect 15 0 18 0;
#X connect 17 0 23 1;
#X connect 18 0 17 0;
#X connect 20 0 12 0;
#X connect 21 0 1 1;
#X connect 21 1 22 1;
#X connect 21 2 20 1;
#X connect 21 3 5 1;
#X connect 21 4 8 1;
#X connect 22 0 23 0;
#X connect 23 0 20 0;
#X connect 24 0 8 0;
#X restore 189 158 pd compress;
#X obj 189 271 pack 0 50;
#X obj 427 39 inlet;
#X obj 480 39 inlet;
#X text 423 17 comp1;
#X text 476 17 comp2;
#N canvas 0 0 450 300 t 0;
#X obj 98 109 f \$1;
#X obj 134 69 loadbang;
#X obj 98 145 select 0;
#X obj 98 46 inlet;
#X obj 98 230 outlet;
#X msg 98 176 1;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 2 1 4 0;
#X connect 3 0 0 0;
#X connect 5 0 4 0;
#X restore 322 64 pd t;
#N canvas 0 0 450 300 c1 0;
#X obj 134 69 loadbang;
#X obj 98 145 select 0;
#X obj 98 46 inlet;
#X obj 98 230 outlet;
#X msg 98 176 1;
#X obj 98 109 f \$2;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X restore 427 66 pd c1;
#N canvas 0 0 450 300 c2 0;
#X obj 134 69 loadbang;
#X obj 98 145 select 0;
#X obj 98 46 inlet;
#X obj 98 230 outlet;
#X msg 98 176 1;
#X obj 98 109 f \$3;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X restore 480 67 pd c2;
#N canvas 0 0 652 488 attack-release 0;
#X obj 156 200 -;
#X obj 156 170 t a a;
#X obj 156 221 > 0;
#X obj 156 286 f 50;
#X obj 156 246 select 1 0;
#X obj 194 286 f 50;
#X text 100 285 attack;
#X text 237 287 release;
#X obj 156 321 outlet;
#X obj 174 102 inlet;
#X obj 221 104 inlet;
#X obj 282 102 inlet;
#X text 217 79 attack;
#X text 283 79 release;
#X obj 156 144 f;
#X obj 120 101 bang~;
#X obj 368 156 block~ 64;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 1 1 0 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 8 0;
#X connect 9 0 14 1;
#X connect 10 0 3 1;
#X connect 11 0 5 1;
#X connect 14 0 1 0;
#X connect 15 0 14 0;
#X restore 249 245 pd attack-release;
#X obj 189 181 t a a a;
#X obj 549 40 inlet;
#X obj 599 40 inlet;
#X text 547 21 att;
#X text 600 23 rel;
#N canvas 0 0 450 300 a 0;
#X obj 134 69 loadbang;
#X obj 98 145 select 0;
#X obj 98 46 inlet;
#X obj 98 230 outlet;
#X obj 98 109 f \$4;
#X msg 98 176 50;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X restore 549 69 pd a;
#N canvas 0 0 450 300 r 0;
#X obj 134 69 loadbang;
#X obj 98 145 select 0;
#X obj 98 46 inlet;
#X obj 98 230 outlet;
#X obj 98 109 f \$5;
#X msg 98 176 50;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X restore 599 69 pd r;
#X obj 189 78 env~ 64;
#X obj 189 295 vline~;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 2 0 35 0;
#X connect 4 0 3 0;
#X connect 5 0 18 0;
#X connect 6 0 7 0;
#X connect 7 0 36 0;
#X connect 8 0 5 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 15 0 24 0;
#X connect 18 0 28 0;
#X connect 19 0 36 0;
#X connect 20 0 25 0;
#X connect 21 0 26 0;
#X connect 24 0 18 1;
#X connect 25 0 18 2;
#X connect 26 0 18 3;
#X connect 27 0 19 1;
#X connect 28 0 19 0;
#X connect 28 1 27 0;
#X connect 28 2 10 0;
#X connect 29 0 33 0;
#X connect 30 0 34 0;
#X connect 33 0 27 1;
#X connect 34 0 27 2;
#X connect 35 0 8 0;
#X connect 36 0 4 1;
