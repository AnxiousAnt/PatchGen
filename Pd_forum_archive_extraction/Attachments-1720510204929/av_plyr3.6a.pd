#N canvas 330 24 950 675 10;
#X msg 427 68 create \, 1;
#X msg 546 108 0 \, destroy;
#X msg 517 74 dimen 762 768;
#X obj 534 51 t b b;
#X obj 783 86 dsp;
#X obj 783 56 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 764 116 5 0 0 0 - - -;
#X floatatom 808 117 5 0 0 0 - - -;
#X text 839 89 eek;
#X text 552 594 add nesting;
#X text 552 609 text overlay;
#X text 551 625 recode v2;
#X text 551 578 TO DO;
#X text 551 641 try alternate codec;
#X obj 0 733 dac~;
#X obj 0 599 vline~;
#X obj 3 198 hsl 196 15 0 1 0 0 \$0-scratch empty empty -2 -8 0 10
-262144 -1 -1 0 1;
#X obj 249 48 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-Lamella 488448 float 2;
#X coords 0 1 488448 -1 200 140 1;
#X restore 1 37 graph;
#X obj 3 217 hsl 196 15 0 1 0 0 \$0-in empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 3 235 hsl 196 15 0 1 0 0 \$0-out empty empty -2 -8 0 10 -262144
-1 -1 19500 1;
#X obj 4 177 hsl 195 10 0 1 0 0 empty \$0-playhead empty -2 -8 0 10
-228856 -1 -1 19400 1;
#N canvas 878 208 146 180 scratch 0;
#X obj 23 134 outlet;
#X obj 23 59 *;
#X obj 38 37 r \$0-samples;
#X obj 23 16 r \$0-scratch;
#X msg 23 81 \$1 50;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X restore -68 513 pd scratch;
#X obj 0 488 pack f f;
#X obj 0 513 t l b;
#X obj 42 513 r \$0-in;
#X text -22 216 in;
#X text -28 233 out;
#X text -47 197 scratch;
#X text -55 173 playhead;
#X obj 42 555 *;
#X obj 27 576 f;
#X obj 57 534 r \$0-samples;
#X obj 37 436 *;
#X obj 52 415 r \$0-samples;
#X obj 37 393 r \$0-out;
#X obj 0 462 f;
#X obj 27 462 f;
#X obj 0 393 t b b;
#X obj 132 276 r \$0-out;
#X obj 158 297 r \$0-in;
#X obj 173 318 r \$0-samples;
#X obj 158 345 *;
#X obj 132 393 -;
#X obj 158 366 t b f;
#X obj 132 345 *;
#X obj 132 438 abs;
#X msg 0 276 bang;
#X obj 401 64 cnv 15 20 20 empty empty 1 6 10 0 14 -261234 -66577 0
;
#X obj 227 46 cnv 15 20 20 empty empty 2 6 10 0 14 -261234 -66577 0
;
#X obj 205 223 cnv 15 20 20 empty empty 4 6 10 0 14 -261234 -66577
0;
#X text 226 224 set in and outpoint;
#X obj -23 273 cnv 15 20 20 empty empty 5 6 10 0 14 -261234 -66577
0;
#X text 34 275 play;
#X obj 132 416 / 44.1;
#X floatatom 132 467 0 0 0 0 - - -;
#X obj 0 657 tabread4~ \$0-Lamella;
#X text 268 48 load audio;
#X text 552 658 compress audio peak;
#X text 552 674 silence sine sync in audio;
#N canvas 63 253 473 547 load_audio 0;
#X obj 150 24 inlet;
#X obj 19 351 soundfiler;
#X obj 19 372 t f f;
#X obj 46 395 s \$0-samples;
#X obj 19 434 s \$0-miliseconds;
#X obj 19 265 t a b;
#X obj 19 308 pack s s;
#X obj 150 48 openpanel;
#X obj 150 71 splitfilename .;
#X text 181 -42 Storage for the video;
#X text 185 -29 maximum 6000 frames in this case;
#X obj 19 414 / 44.1;
#X obj 12 -33 pix_buffer \$0-speicher 4000;
#X msg 19 330 read -maxsize 1.5876e+07 -resize \$1 \$2;
#X obj 46 285 symbol \$0-Lamella;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 2 1 3 0;
#X connect 5 0 6 0;
#X connect 5 1 14 0;
#X connect 6 0 13 0;
#X connect 7 0 5 0;
#X connect 11 0 4 0;
#X connect 13 0 1 0;
#X connect 14 0 6 1;
#X restore 249 69 pd load_audio;
#X text 625 108 close GEM window;
#X text 400 44 open GEM window;
#X obj 404 585 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 556 696 rename files simple *inc pix_buffer*;
#X obj -1 696 *~;
#X floatatom 38 687 0 0 1 0 - - -;
#X obj 500 127 gemwin;
#X obj 430 608 cnv 15 20 20 empty empty 3 6 10 0 14 -261234 -66577
0;
#X obj 10 629 s~ vline~;
#X text 557 715 tidy up sound output;
#X obj 239 587 r~ vline~;
#X text 554 732 tidy in and out points audio and video;
#X obj 228 521 r~ vline~;
#X text 561 761 sort out gemhead numbers;
#X obj 263 648 r~ vline~;
#N canvas 700 372 580 428 video_vdu_processing 0;
#X obj 172 51 inlet~;
#X obj 103 350 pix_texture;
#X obj 314 278 unpack f f f;
#X obj 130 200 *;
#X obj 130 110 snapshot~;
#X obj 103 87 t a b;
#X obj 130 156 /;
#X obj 130 222 int;
#X obj 130 244 change;
#X text 432 332 this takes care of the;
#X text 456 346 right aspect ratio;
#X text 493 360 of the video;
#X obj 387 306 cnv 15 45 110 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 390 312 /;
#X obj 390 389 *;
#X obj 390 333 t b f;
#X msg 390 355 3;
#X obj 145 133 r \$0-samples;
#X obj 20 243 s \$0-playhead;
#X obj 20 222 speedlim 100;
#X obj 103 325 pix_buffer_read \$0-video_vdu;
#X obj 103 286 translate;
#X obj 103 398 rectangle 2 4;
#X obj 103 65 gemhead 1;
#X obj 314 74 inlet;
#X msg 314 139 open \$1;
#X obj 314 98 openpanel;
#X obj 502 188 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 176 17 pix_buffer \$0-video_vdu 4000;
#X obj 314 162 pix_buffer_filmopen \$0-video_vdu;
#X connect 0 0 4 0;
#X connect 1 0 22 0;
#X connect 2 0 3 1;
#X connect 2 1 13 0;
#X connect 2 2 13 1;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 21 0;
#X connect 5 1 4 0;
#X connect 6 0 3 0;
#X connect 6 0 19 0;
#X connect 7 0 8 0;
#X connect 8 0 20 1;
#X connect 13 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 14 1;
#X connect 16 0 14 0;
#X connect 17 0 6 1;
#X connect 19 0 18 0;
#X connect 20 0 1 0;
#X connect 21 0 20 0;
#X connect 23 0 5 0;
#X connect 24 0 26 0;
#X connect 25 0 29 0;
#X connect 26 0 25 0;
#X connect 29 0 2 0;
#X connect 29 1 27 0;
#X restore 228 544 pd video_vdu_processing;
#N canvas 700 327 580 473 video_headshot_processing 0;
#X obj 177 43 inlet~;
#X obj 103 350 pix_texture;
#X obj 316 291 unpack f f f;
#X obj 130 200 *;
#X obj 130 110 snapshot~;
#X obj 103 87 t a b;
#X obj 130 156 /;
#X obj 130 222 int;
#X obj 130 244 change;
#X text 434 345 this takes care of the;
#X text 458 359 right aspect ratio;
#X text 495 373 of the video;
#X obj 389 319 cnv 15 45 110 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 392 325 /;
#X obj 392 402 *;
#X obj 392 346 t b f;
#X msg 392 368 3;
#X obj 145 133 r \$0-samples;
#X obj 103 286 translate 1.34 1.5 1.5 0;
#X obj 103 398 rectangle 1.6 1.2;
#X obj 103 65 gemhead 2;
#X obj 103 325 pix_buffer_read video_headshot;
#X obj 310 74 inlet;
#X msg 310 139 open \$1;
#X obj 310 98 openpanel;
#X obj 499 195 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 172 17 pix_buffer video_headshot 4000;
#X obj 310 162 pix_buffer_filmopen video_headshot;
#X connect 0 0 4 0;
#X connect 1 0 19 0;
#X connect 2 0 3 1;
#X connect 2 1 13 0;
#X connect 2 2 13 1;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 18 0;
#X connect 5 1 4 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 21 1;
#X connect 13 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 14 1;
#X connect 16 0 14 0;
#X connect 17 0 6 1;
#X connect 18 0 21 0;
#X connect 20 0 5 0;
#X connect 21 0 1 0;
#X connect 22 0 24 0;
#X connect 23 0 27 0;
#X connect 24 0 23 0;
#X connect 27 0 2 0;
#X connect 27 1 25 0;
#X restore 239 609 pd video_headshot_processing;
#N canvas 700 84 580 428 video_environment_processing 0;
#X obj 172 57 inlet~;
#X obj 103 350 pix_texture;
#X obj 317 257 unpack f f f;
#X obj 130 200 *;
#X obj 130 110 snapshot~;
#X obj 103 87 t a b;
#X obj 130 156 /;
#X obj 130 222 int;
#X obj 130 244 change;
#X text 435 311 this takes care of the;
#X text 459 325 right aspect ratio;
#X text 496 339 of the video;
#X obj 390 285 cnv 15 45 110 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 393 291 /;
#X obj 393 368 *;
#X obj 393 312 t b f;
#X msg 393 334 3;
#X obj 145 133 r \$0-samples;
#X obj 103 398 rectangle 1.6 1.2;
#X obj 103 286 translate 2.02 1 -1 0;
#X obj 103 65 gemhead 3;
#X floatatom 189 254 5 0 0 0 - - -;
#X obj 103 325 pix_buffer_read \$0-video_environment;
#X obj 313 88 inlet;
#X msg 313 153 open \$1;
#X obj 313 112 openpanel;
#X obj 502 209 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 175 31 pix_buffer \$0-video_environment 4000;
#X obj 313 176 pix_buffer_filmopen \$0-video_environment;
#X connect 0 0 4 0;
#X connect 1 0 18 0;
#X connect 2 0 3 1;
#X connect 2 1 13 0;
#X connect 2 2 13 1;
#X connect 3 0 7 0;
#X connect 4 0 6 0;
#X connect 5 0 19 0;
#X connect 5 1 4 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 22 1;
#X connect 13 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 14 1;
#X connect 16 0 14 0;
#X connect 17 0 6 1;
#X connect 19 0 22 0;
#X connect 20 0 5 0;
#X connect 21 0 19 1;
#X connect 22 0 1 0;
#X connect 23 0 25 0;
#X connect 24 0 28 0;
#X connect 25 0 24 0;
#X connect 28 0 2 0;
#X connect 28 1 26 0;
#X restore 263 671 pd video_environment_processing;
#X text 478 381 Thanks to Max Neupert;
#X obj 361 521 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 445 648 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 67 0;
#X connect 1 0 67 0;
#X connect 2 0 67 0;
#X connect 3 0 0 0;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 4 1 7 0;
#X connect 5 0 4 0;
#X connect 15 0 56 0;
#X connect 15 0 69 0;
#X connect 17 0 60 0;
#X connect 22 0 15 0;
#X connect 23 0 24 0;
#X connect 24 0 15 0;
#X connect 24 1 31 0;
#X connect 25 0 30 0;
#X connect 30 0 31 1;
#X connect 31 0 15 0;
#X connect 32 0 30 1;
#X connect 33 0 36 1;
#X connect 34 0 33 1;
#X connect 35 0 33 0;
#X connect 36 0 23 0;
#X connect 37 0 23 1;
#X connect 38 0 36 0;
#X connect 38 1 37 0;
#X connect 39 0 45 0;
#X connect 40 0 42 0;
#X connect 41 0 42 1;
#X connect 41 0 45 1;
#X connect 42 0 44 0;
#X connect 43 0 54 0;
#X connect 44 0 43 0;
#X connect 44 1 43 1;
#X connect 45 0 43 0;
#X connect 46 0 37 1;
#X connect 46 0 55 0;
#X connect 47 0 38 0;
#X connect 54 0 46 0;
#X connect 56 0 65 0;
#X connect 63 0 77 1;
#X connect 65 0 14 0;
#X connect 65 0 14 1;
#X connect 66 0 65 1;
#X connect 71 0 77 0;
#X connect 73 0 76 0;
#X connect 75 0 78 0;
#X connect 80 0 76 1;
#X connect 81 0 78 1;
